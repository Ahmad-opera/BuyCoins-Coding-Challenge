<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel=icon href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14/svgs/brands/github.svg>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <title>Your Respositories</title>
</head>
<body>
    <nav class="nav">
        <button class="hamburger sm-only"><i class="fa fa-bars"></i></button>
        <span class="git-icon"><i class="fab text-2x fa-github text-white"></i></span>
        <ul class="content-center lg-up-only">
            <input type="text" class="item-center lg-up-only" placeholder="Search or jump to...">
            <li>Pull requests</li>
            <li>Issues</li>
            <li>Codespaces</li>
            <li>Marketplace</li>
            <li>Explore</li>
        </ul>
        <div class="nav-action">
            <button><i class="far fa-lg fa-bell"></i></button>
            <button class="dropdown lg-up-only"><i class="fa fa-lg fa-plus"></i><i class="fa fa-sort-down"></i></button>
        </div>
    </nav>

    <main id="container" class="container">
      
    </main>

    <!-- <div id="app"></div> -->
</body>
<script>
let myData = {
  "data": {
    "viewer": {
      "id": "MDQ6VXNlcjM1NjU3NDU2",
      "repositories": {
        "edges": [
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyMTQxODExMTg=",
              "name": "mssweb",
              "updatedAt": "2019-10-10T13:37:02Z",
              "url": "https://github.com/Ahmad-opera/mssweb",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2U0MTc=",
                      "name": "HTML",
                      "color": "#e34c26"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyMTQ0MjcyMDc=",
              "name": "abuhotspot",
              "updatedAt": "2020-01-10T08:33:42Z",
              "url": "https://github.com/Ahmad-opera/abuhotspot",
              "forkCount": 0,
              "stargazerCount": 1,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2U0MTc=",
                      "name": "HTML",
                      "color": "#e34c26"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyMTUyMzIyMzg=",
              "name": "codescu",
              "updatedAt": "2019-12-12T10:26:08Z",
              "url": "https://github.com/Ahmad-opera/codescu",
              "forkCount": 0,
              "stargazerCount": 1,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2UzMDg=",
                      "name": "CSS",
                      "color": "#563d7c"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyMjEyNjQ2OTg=",
              "name": "codeup",
              "updatedAt": "2019-11-12T16:55:14Z",
              "url": "https://github.com/Ahmad-opera/codeup",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2UzMDg=",
                      "name": "CSS",
                      "color": "#563d7c"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyMjIzMTc2NTA=",
              "name": "codeupweb",
              "updatedAt": "2019-11-22T11:57:56Z",
              "url": "https://github.com/Ahmad-opera/codeupweb",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2U0MTc=",
                      "name": "HTML",
                      "color": "#e34c26"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyMjMzOTM2NTM=",
              "name": "codeupsite",
              "updatedAt": "2019-11-22T21:11:46Z",
              "url": "https://github.com/Ahmad-opera/codeupsite",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2UzMDg=",
                      "name": "CSS",
                      "color": "#563d7c"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyMjk0ODM3OTc=",
              "name": "stemcoders",
              "updatedAt": "2020-11-13T01:36:18Z",
              "url": "https://github.com/Ahmad-opera/stemcoders",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2UzMDg=",
                      "name": "CSS",
                      "color": "#563d7c"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyMzAzMjE4NzA=",
              "name": "codekiddiez",
              "updatedAt": "2019-12-26T20:26:45Z",
              "url": "https://github.com/Ahmad-opera/codekiddiez",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2U0MTc=",
                      "name": "HTML",
                      "color": "#e34c26"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyMzUwOTA0ODQ=",
              "name": "mss",
              "updatedAt": "2020-01-21T11:58:35Z",
              "url": "https://github.com/Ahmad-opera/mss",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2U0MTc=",
                      "name": "HTML",
                      "color": "#e34c26"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyNDE2MjI3MzQ=",
              "name": "hotspot",
              "updatedAt": "2020-02-19T13:01:12Z",
              "url": "https://github.com/Ahmad-opera/hotspot",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2U0MTc=",
                      "name": "HTML",
                      "color": "#e34c26"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyNDU0Njk1NTI=",
              "name": "mdass",
              "updatedAt": "2020-03-06T17:12:03Z",
              "url": "https://github.com/Ahmad-opera/mdass",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2UzMDg=",
                      "name": "CSS",
                      "color": "#563d7c"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyNDU4NTAzMjI=",
              "name": "khali",
              "updatedAt": "2020-03-15T01:40:52Z",
              "url": "https://github.com/Ahmad-opera/khali",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2U0MTc=",
                      "name": "HTML",
                      "color": "#e34c26"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyNTczNzUyOTU=",
              "name": "rot",
              "updatedAt": "2020-04-20T18:52:52Z",
              "url": "https://github.com/Ahmad-opera/rot",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2U0MTc=",
                      "name": "HTML",
                      "color": "#e34c26"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyNzE2NjM2OTU=",
              "name": "khaliportfolio",
              "updatedAt": "2020-06-11T23:13:29Z",
              "url": "https://github.com/Ahmad-opera/khaliportfolio",
              "forkCount": 1,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2UzMDg=",
                      "name": "CSS",
                      "color": "#563d7c"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkyNzY2NTg2NTg=",
              "name": "mssiaiict",
              "updatedAt": "2020-07-02T13:49:53Z",
              "url": "https://github.com/Ahmad-opera/mssiaiict",
              "forkCount": 0,
              "stargazerCount": 0,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2U0MTc=",
                      "name": "HTML",
                      "color": "#e34c26"
                    }
                  }
                ]
              }
            }
          },
          {
            "node": {
              "id": "MDEwOlJlcG9zaXRvcnkzMDY0ODYwNjA=",
              "name": "mdass-islamiyya",
              "updatedAt": "2020-11-13T01:35:45Z",
              "url": "https://github.com/Ahmad-opera/mdass-islamiyya",
              "forkCount": 0,
              "stargazerCount": 1,
              "languages": {
                "edges": [
                  {
                    "node": {
                      "id": "MDg6TGFuZ3VhZ2U0MTc=",
                      "name": "HTML",
                      "color": "#e34c26"
                    }
                  }
                ]
              }
            }
          }
        ]
      },
      "avatarUrl": "https://avatars2.githubusercontent.com/u/35657456?u=1e43daa5c8330a26e565494dd97edf517ccc171a&v=4",
      "bio": "",
      "login": "Ahmad-opera"
    },
    "user": {
      "projects": {
        "totalCount": 1
      },
      "repositories": {
        "totalCount": 16
      },
      "avatarUrl": "https://avatars1.githubusercontent.com/u/35657456?u=1e43daa5c8330a26e565494dd97edf517ccc171a&v=4",
      "name": "Ahmad Yusuf"
    }
  }
}


let renderRepos = function(template, selector, data){
  let node = document.querySelector(selector);
  let raw = data;
  if(!node) return;
  console.log(raw)
  raw.forEach(el => {
    let updatedAt = new Date(el.node.updatedAt);
    let updatedAtMonth = new Date(el.node.updatedAt).toLocaleString('en-EN', {month: 'long'}).slice(0,3);
    let myTemp = `<div class="repo">
                        <div class="flex">
                            <div class="">
                                <h2 class="text-lg">${el.node.name !== '' ? `${el.node.name}` : 'd'}</h2>
                                <ul class="repo-details">
                                    <li><i class="fa fa-circle" style="color: ${el.node.languages.edges[0].node.color}"></i> ${el.node.languages.edges[0].node.name}</li>
                                    <li><i class="far fa-star"></i> ${el.node.stargazerCount}</li>
                                    <li><i class="fa fa-code-fork"></i> ${el.node.forkCount}</li>
                                    <li>Updated on ${updatedAt.getDate()} ${updatedAtMonth}</li>    
                                </ul>
                            </div>
                            <div class="repo-action">
                                <button><i class="far fa-star"></i> Star</button>
                            </div>
                        </div>
                    </div>`;
    node.innerHTML += myTemp;
  });
}
  let renderMain = function (selector, data) {
  let node = document.querySelector(selector);
  if(!node) return;
  let myTemp = `
        
        <div class="tabs">
            <ul class="tab-list">
                <li><i class="fa fa-book-open lg-up-only"></i> Overview</li>
                <li class="active-tab"><i class="fa fa-book"></i> Respositories <span class="badge">${data.data.user.repositories.totalCount}</span></li>
                <li><i class="fa fa-project-diagram"></i> Projects<span class="badge">${data.data.user.projects.totalCount}</span></li>
                <li><i class="fa fa-box"></i> Packages</li>
            </ul>
        </div>
        <div class="wrap">
          <div class="profile">
              <div class="avartar">
                <img src="${data.data.user.avatarUrl}">
              </div>
              <div class="">
                  <h1>${data.data.user.name}</h1>
                  <h4 class="username">${data.data.viewer.login}</h4>
                  <p class="desc lg-up-only">${data.data.viewer.bio}</p>
              </div>
          </div>
              <div class="infos">
                  <div class="repos-list" id="app">
                      <input type="text" placeholder="Find a repository..." class="repo-search">
                      
                  </div>
              </div>
          </div>
        `;
        node.innerHTML = myTemp
        renderRepos('myTemp', '#app', myData.data.viewer.repositories.edges);
}
renderMain('#container', myData);
</script>
</html>
